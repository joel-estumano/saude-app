<app-progress-bar class="fixed top-0 w-full" />
<app-container-base>
	<div class="flex flex-col gap-16">
		<h2 class="f2">Login</h2>

		<form class="flex flex-col gap-10" [formGroup]="loginForm" (ngSubmit)="login()">
			<div class="grid gap-5">
				<div class="grid grid-cols-1">
					<div>
						<label for="email">Email</label>
						<input
							type="text"
							formControlName="email"
							placeholder="janedoe@mail.com"
							[ngClass]="formUtils.invalidClass(formUtils.getControl(loginForm, 'email'), this.isFormSubmited())"
							autocomplete="off"
						/>
					</div>
				</div>
				<div class="grid grid-cols-1">
					<div>
						<label for="password">Senha</label>
						<div class="relative block">
							<input
								[type]="this.showPassword() ? 'text' : 'password'"
								formControlName="password"
								placeholder="******"
								[ngClass]="formUtils.invalidClass(formUtils.getControl(loginForm, 'password'), this.isFormSubmited())"
								class="pr-3"
								autocomplete="off"
							/>
							<button
								type="button"
								class="absolute inset-y-0 cursor-pointer right-3"
								[disabled]="this.isLoading()"
								(mousedown)="togglePasswordVisibility(true)"
								(mouseup)="togglePasswordVisibility(false)"
								(mouseleave)="togglePasswordVisibility(false)"
								(touchstart)="togglePasswordVisibility(true)"
								(touchend)="togglePasswordVisibility(false)"
							>
								<app-icon [icon]="this.showPassword() ? 'heroEye' : 'heroEyeSlash'" />
							</button>
						</div>
					</div>
				</div>
			</div>
			<div class="inline-flex justify-center gap-5">
				<button type="submit" class="primary" title="Entrar" [disabled]="this.isLoading()">{{ this.isLoading() ? "Enviando" : "Enviar" }}</button>
			</div>
		</form>
	</div>
</app-container-base>
